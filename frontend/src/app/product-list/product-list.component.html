<p-button label="Add Product" icon="pi pi-plus" (click)="addProduct()"></p-button>
<br>

<p-table [value]="products" >
    <ng-template pTemplate="header">
        <tr>
            <th style="text-align:center">Product</th>
            <th style="text-align:center">Name</th>
            <th style="text-align:center">Price</th>
            <th style="text-align:center">Edit</th>
            <th style="text-align:center">Delete</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-product>
        <tr>
            <td><img height = "100px" width = "150px" class="images" src="{{product.imageUrl}}"/></td>
            <td style="text-align:center">{{product.name}}</td>
            <td style="text-align:center">{{product.price}}$</td>
            <!-- <td style="text-align:center">{{product.imageUrl}}</td> -->
            <td style="text-align:center"><p-button icon="pi pi-pencil" (click)="editProduct(product)"></p-button></td>
            <td style="text-align:center" ><p-button icon="pi pi-trash" (click)="deleteProduct(product)" styleClass="p-button-warning"></p-button></td>
        </tr>
    </ng-template>
</p-table>

<p-confirmDialog [style]="{width: '50vw'}" [baseZIndex]="10000" ></p-confirmDialog>

<p-dialog [(visible)]="productDialogVisible" [style]="{width: '450px'}"  header="Product Details" [modal]="true" styleClass="p-fluid">
    <ng-template pTemplate="content">
        <div class="p-field">
            <label for="name">Name</label>
            <!-- required Ä± neden sildik -->
            <input type="text" pInputText id="name" [(ngModel)]="product.name" autofocus /> 
            <small class="p-error" *ngIf="  submitted && !product.name">Name is required.</small>
        </div>
        <div class="p-field">
            <label for="name">Price</label>
            <input type="number" pInputText id="price"  [(ngModel)]="product.price"   />
            <small class="p-error" *ngIf="submitted && !product.price">Price is required.</small>
        </div>
        <div class="p-field">
            <label for="name">ImageUrl</label>
            <input type="text" pInputText id="imageUrl"  [(ngModel)]="product.imageUrl"  />
            
        </div>
    </ng-template> 
    <ng-template pTemplate="footer">
        <button pButton pRipple label="Cancel" icon="pi pi-times" class="p-button-text"  ></button>
        <button pButton pRipple label="Save" icon="pi pi-check" class="p-button-text" (click)="saveProduct()"></button>
    </ng-template>
</p-dialog>
